{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../albums.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction AlbumDetailComponent_h3_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h3\");\n    i0.ɵɵtext(1, \" Album detail is loading \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AlbumDetailComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"div\", 5)(2, \"strong\");\n    i0.ɵɵtext(3, \"ID: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵelement(5, \"br\");\n    i0.ɵɵelementStart(6, \"strong\");\n    i0.ɵɵtext(7, \"UserID: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8);\n    i0.ɵɵelement(9, \"br\");\n    i0.ɵɵelementStart(10, \"strong\");\n    i0.ɵɵtext(11, \"Title: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12);\n    i0.ɵɵelement(13, \"br\");\n    i0.ɵɵelementStart(14, \"strong\");\n    i0.ɵɵtext(15, \"Photo link: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"a\", 6);\n    i0.ɵɵtext(17, \"Photos\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"fieldset\", 7)(19, \"p\", 8);\n    i0.ɵɵtext(20, \"Update title\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"input\", 9);\n    i0.ɵɵlistener(\"ngModelChange\", function AlbumDetailComponent_div_4_Template_input_ngModelChange_21_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.updatedAlbum.title = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function AlbumDetailComponent_div_4_Template_button_click_22_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.updateAlbum(ctx_r4.album.id));\n    });\n    i0.ɵɵtext(23, \"Update\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.album.id, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.album.userId, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.album.title, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/albums/\", ctx_r1.album.id, \"/photos\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.updatedAlbum.title);\n  }\n}\nexport class AlbumDetailComponent {\n  constructor(route, albumService, location) {\n    this.route = route;\n    this.albumService = albumService;\n    this.location = location;\n    this.album = {};\n    this.loaded = true;\n    this.updatedAlbum = {\n      id: this.album.id,\n      userId: this.album.userId\n    };\n  }\n  ngOnInit() {\n    const id = Number(this.route.snapshot.paramMap.get('id'));\n    this.loaded = false;\n    this.albumService.getAlbum(id).subscribe(album => {\n      this.album = album;\n      this.loaded = true;\n    });\n  }\n  updateAlbum(id) {\n    this.updatedAlbum.userId = this.album.userId;\n    this.albumService.updateAlbum(id, this.updatedAlbum).subscribe(album => {\n      this.album = album;\n      this.updatedAlbum.title = \"\";\n    });\n  }\n  returnBack() {\n    this.location.back();\n  }\n}\nAlbumDetailComponent.ɵfac = function AlbumDetailComponent_Factory(t) {\n  return new (t || AlbumDetailComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.AlbumsService), i0.ɵɵdirectiveInject(i3.Location));\n};\nAlbumDetailComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AlbumDetailComponent,\n  selectors: [[\"app-album-detail\"]],\n  decls: 5,\n  vars: 2,\n  consts: [[\"id\", \"detail\"], [\"id\", \"back\", 3, \"click\"], [4, \"ngIf\"], [\"style\", \"justify-content: left;\", 4, \"ngIf\"], [2, \"justify-content\", \"left\"], [\"id\", \"info\", 2, \"justify-content\", \"left\", \"padding\", \"10px\", \"border-radius\", \"7px\"], [3, \"routerLink\"], [2, \"width\", \"100px\", \"border-radius\", \"5px\"], [2, \"margin-bottom\", \"5px\"], [\"type\", \"text\", \"placeholder\", \"Title\", 2, \"margin-bottom\", \"5px\", 3, \"ngModel\", \"ngModelChange\"], [2, \"margin-bottom\", \"5px\", 3, \"click\"]],\n  template: function AlbumDetailComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"button\", 1);\n      i0.ɵɵlistener(\"click\", function AlbumDetailComponent_Template_button_click_1_listener() {\n        return ctx.returnBack();\n      });\n      i0.ɵɵtext(2, \"Return back\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(3, AlbumDetailComponent_h3_3_Template, 2, 0, \"h3\", 2);\n      i0.ɵɵtemplate(4, AlbumDetailComponent_div_4_Template, 24, 5, \"div\", 3);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", !ctx.loaded);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.loaded);\n    }\n  },\n  dependencies: [i3.NgIf, i1.RouterLink, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel],\n  styles: [\"#detail[_ngcontent-%COMP%] {\\r\\n  margin-left: 40px;\\r\\n  justify-content: left;\\r\\n  text-align: left;\\r\\n}\\r\\n\\r\\n\\r\\n#back[_ngcontent-%COMP%]{\\r\\n  border: 1px solid black;\\r\\n  border-radius: 5px;\\r\\n  padding: 5px;\\r\\n  cursor: pointer;\\r\\n  margin: 10px 0 10px 0;\\r\\n  background: white;\\r\\n}\\r\\n\\r\\n#info[_ngcontent-%COMP%]{\\r\\n  border: 1px solid black;\\r\\n  margin-bottom: 20px;\\r\\n  width: 200px;\\r\\n  text-align: left;\\r\\n\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYWxidW0tZGV0YWlsL2FsYnVtLWRldGFpbC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsaUJBQWlCO0VBQ2pCLHFCQUFxQjtFQUNyQixnQkFBZ0I7QUFDbEI7OztBQUdBO0VBQ0UsdUJBQXVCO0VBQ3ZCLGtCQUFrQjtFQUNsQixZQUFZO0VBQ1osZUFBZTtFQUNmLHFCQUFxQjtFQUNyQixpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSx1QkFBdUI7RUFDdkIsbUJBQW1CO0VBQ25CLFlBQVk7RUFDWixnQkFBZ0I7O0FBRWxCIiwic291cmNlc0NvbnRlbnQiOlsiI2RldGFpbCB7XHJcbiAgbWFyZ2luLWxlZnQ6IDQwcHg7XHJcbiAganVzdGlmeS1jb250ZW50OiBsZWZ0O1xyXG4gIHRleHQtYWxpZ246IGxlZnQ7XHJcbn1cclxuXHJcblxyXG4jYmFja3tcclxuICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcclxuICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgcGFkZGluZzogNXB4O1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxuICBtYXJnaW46IDEwcHggMCAxMHB4IDA7XHJcbiAgYmFja2dyb3VuZDogd2hpdGU7XHJcbn1cclxuXHJcbiNpbmZve1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xyXG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XHJcbiAgd2lkdGg6IDIwMHB4O1xyXG4gIHRleHQtYWxpZ246IGxlZnQ7XHJcblxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":";;;;;;;IAGEA,0BAAoB;IAACA,yCAAwB;IAAAA,iBAAK;;;;;;IAElDA,8BAAmD;IAEvCA,oBAAI;IAAAA,iBAAS;IAACA,YAAa;IAAAA,qBAAI;IACvCA,8BAAQ;IAAAA,wBAAQ;IAAAA,iBAAS;IAACA,YAAiB;IAAAA,qBAAI;IAC/CA,+BAAQ;IAAAA,wBAAO;IAAAA,iBAAS;IAACA,aAAgB;IAAAA,sBAAI;IAC7CA,+BAAQ;IAAAA,6BAAY;IAAAA,iBAAS;IAAAA,6BAA4C;IAAAA,uBAAM;IAAAA,iBAAI;IAKrFA,oCAAmD;IACnBA,6BAAY;IAAAA,iBAAI;IAC9CA,iCAAmG;IAAhFA;MAAAA;MAAA;MAAA,OAAaA,kDAA0B;IAAA,EAAP;IAAnDA,iBAAmG;IACnGA,mCAAmE;IAA3DA;MAAAA;MAAA;MAAA,OAASA,kDAAqB;IAAA,EAAC;IAA4BA,uBAAM;IAAAA,iBAAS;;;;IAX5DA,eAAa;IAAbA,gDAAa;IACTA,eAAiB;IAAjBA,oDAAiB;IAClBA,eAAgB;IAAhBA,mDAAgB;IACTA,eAAwC;IAAxCA,+EAAwC;IAOrDA,eAAgC;IAAhCA,mDAAgC;;;ACNzD,OAAM,MAAOC,oBAAoB;EAI/BC,YAAoBC,KAAqB,EAAUC,YAA2B,EAAUC,QAAkB;IAAtF,UAAK,GAALF,KAAK;IAA0B,iBAAY,GAAZC,YAAY;IAAyB,aAAQ,GAARC,QAAQ;IAC9F,IAAI,CAACC,KAAK,GAAG,EAAW;IACxB,IAAI,CAACC,MAAM,GAAG,IAAI;IAClB,IAAI,CAACC,YAAY,GAAG;MAACC,EAAE,EAAE,IAAI,CAACH,KAAK,CAACG,EAAE;MAAEC,MAAM,EAAE,IAAI,CAACJ,KAAK,CAACI;IAAM,CAAU;EAC7E;EAEAC,QAAQ;IACN,MAAMF,EAAE,GAAGG,MAAM,CAAC,IAAI,CAACT,KAAK,CAACU,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAC,CAAC;IACzD,IAAI,CAACR,MAAM,GAAG,KAAK;IACnB,IAAI,CAACH,YAAY,CAACY,QAAQ,CAACP,EAAE,CAAC,CAACQ,SAAS,CAAEX,KAAK,IAAG;MAChD,IAAI,CAACA,KAAK,GAAGA,KAAK;MAClB,IAAI,CAACC,MAAM,GAAG,IAAI;IACpB,CAAC,CAAE;EACL;EAEAW,WAAW,CAACT,EAAU;IACpB,IAAI,CAACD,YAAY,CAACE,MAAM,GAAG,IAAI,CAACJ,KAAK,CAACI,MAAM;IAC5C,IAAI,CAACN,YAAY,CAACc,WAAW,CAACT,EAAE,EAAE,IAAI,CAACD,YAAY,CAAC,CAACS,SAAS,CAAEX,KAAK,IAAI;MACvE,IAAI,CAACA,KAAK,GAAGA,KAAK;MAClB,IAAI,CAACE,YAAY,CAACW,KAAK,GAAG,EAAE;IAC9B,CAAC,CAAC;EACJ;EAEAC,UAAU;IACR,IAAI,CAACf,QAAQ,CAACgB,IAAI,EAAE;EACtB;;AA7BWpB,oBAAoB;mBAApBA,oBAAoB;AAAA;AAApBA,oBAAoB;QAApBA,oBAAoB;EAAAqB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDXjC1B,8BAAiB;MACPA;QAAA,OAAS2B,gBAAY;MAAA,EAAC;MAAW3B,2BAAW;MAAAA,iBAAS;MAE7DA,mEAAkD;MAElDA,sEAgBM;MACRA,iBAAM;;;MAnBCA,eAAa;MAAbA,kCAAa;MAEZA,eAAY;MAAZA,iCAAY","names":["i0","AlbumDetailComponent","constructor","route","albumService","location","album","loaded","updatedAlbum","id","userId","ngOnInit","Number","snapshot","paramMap","get","getAlbum","subscribe","updateAlbum","title","returnBack","back","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Admin\\Desktop\\Web Dev\\Lab6\\album\\src\\app\\album-detail\\album-detail.component.html","C:\\Users\\Admin\\Desktop\\Web Dev\\Lab6\\album\\src\\app\\album-detail\\album-detail.component.ts"],"sourcesContent":["<div id=\"detail\">\n  <button (click)=\"returnBack()\" id=\"back\">Return back</button>\n\n  <h3 *ngIf=\"!loaded\"> Album detail is loading </h3>\n\n  <div *ngIf=\"loaded\" style=\"justify-content: left;\">\n    <div id=\"info\" style=\"justify-content: left; padding: 10px;  border-radius: 7px\">\n      <strong>ID: </strong> {{album.id}} <br>\n      <strong>UserID: </strong> {{album.userId}} <br>\n      <strong>Title: </strong> {{album.title}} <br>\n      <strong>Photo link: </strong><a routerLink=\"/albums/{{album.id}}/photos\">Photos</a>\n    </div>\n\n\n\n    <fieldset style=\"width: 100px; border-radius: 5px\">\n      <p style=\"margin-bottom: 5px\">Update title</p>\n      <input type=\"text\" [(ngModel)]=\"updatedAlbum.title\" placeholder=\"Title\" style=\"margin-bottom: 5px\">\n      <button (click)=\"updateAlbum(album.id)\" style=\"margin-bottom: 5px\">Update</button>\n    </fieldset>\n\n  </div>\n</div>\n\n\n","import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {Album} from \"../models\";\nimport {AlbumsService} from \"../albums.service\";\nimport { Location } from '@angular/common'\n\n@Component({\n  selector: 'app-album-detail',\n  templateUrl: './album-detail.component.html',\n  styleUrls: ['./album-detail.component.css']\n})\nexport class AlbumDetailComponent implements OnInit{\n  album: Album;\n  loaded: boolean;\n  updatedAlbum: Album\n  constructor(private route: ActivatedRoute, private albumService: AlbumsService, private location: Location) {\n    this.album = {} as Album\n    this.loaded = true\n    this.updatedAlbum = {id: this.album.id, userId: this.album.userId} as Album\n  }\n\n  ngOnInit(): void {\n    const id = Number(this.route.snapshot.paramMap.get('id'));\n    this.loaded = false;\n    this.albumService.getAlbum(id).subscribe((album => {\n      this.album = album;\n      this.loaded = true\n    }))\n  }\n\n  updateAlbum(id: number): void{\n    this.updatedAlbum.userId = this.album.userId\n    this.albumService.updateAlbum(id, this.updatedAlbum).subscribe((album) => {\n      this.album = album;\n      this.updatedAlbum.title = \"\";\n    })\n  }\n\n  returnBack(): void{\n    this.location.back()\n  }\n\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}